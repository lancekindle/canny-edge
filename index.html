<!DOCTYPE html>
<html>
<input type="file" id="imgLoader">
<style>
canvas {position:absolute; left:1px; top:1px;}
</style>

<script src="PageHelper.js"></script>

<!-- full-color, original image -->
<div class="canvas-container" style="width: 50vw; height: 50vh; position: relative; -webkit-user-select: none;">
    <canvas id="canvas" style='width:50vw;height:50vh'></canvas>
</div>

<!--greyscale image -->
<div class="canvas-container" style="width: 50vw; height: 50vh; position: relative; -webkit-user-select: none;">
    <canvas id="canvas-grey" style='width:50vw;height:50vh'></canvas>
</div>


<!--blurred image after convolution with 5x5 gaussian kernel -->
<div class="canvas-container" style="width: 50vw; height: 50vh; position: relative; -webkit-user-select: none;">
    <canvas id="canvas-3" style='width:50vw;height:50vh'></canvas>
</div>

<!-- greyscale image shows gradient strength of pixels in X direction only.
    Interactive. -->
<div class="canvas-container" style="width: 50vw; height: 50vh; position: relative; -webkit-user-select: none;">
    <canvas id="canvas_edge_x" style='width:50vw;height:50vh'></canvas>
    <canvas id="x_overlay_canvas" style='width:100%;height:100%'></canvas>
    <script>
    x_overlay_canvas.addEventListener('mousemove', 
        function(event) {
            PageHelper.draw_illustrative_arrow(event, steps[3].edge_x,
            undefined, undefined);
        }
    );
    </script>
</div>
<!--greyscale image shows gradient strength of pixels in Y direction only.
    Interactive. -->
<div class="canvas-container" style="width: 50vw; height: 50vh; position: relative; -webkit-user-select: none;">
    <canvas id="canvas_edge_y" style='width:50vw;height:50vh'></canvas>
    <canvas id="y_overlay_canvas" style='width:100%;height:100%'></canvas>
    <script>
    y_overlay_canvas.addEventListener('mousemove', 
        function(event) {
            PageHelper.draw_illustrative_arrow(event, undefined,
            steps[3].edge_y, undefined);
        }
    );
    </script>
</div>
<!--greyscale image shows gradient strength of every pixel on image. Hovering
    over a pixel also shows gradient direction and strength -->
<div class="canvas-container" style="width: 50vw; height: 50vh; position: relative; -webkit-user-select: none;">
    <canvas id="canvas_edge" style='width:50vw;height:50vh'></canvas>
    <canvas id="edge_overlay_canvas" style='width:100%;height:100%'></canvas>
    <script>
    edge_overlay_canvas.addEventListener('mousemove', 
        function(event) {
            PageHelper.draw_illustrative_arrow(event, steps[3].edge_x,
            steps[3].edge_y, undefined);
        }
    );
    </script>
</div>

<!--colored image shows gradient direction of every pixel in image -->
<div class="canvas-container" style="width: 50vw; height: 50vh; position: relative; -webkit-user-select: none;">
    <canvas id="bright_color_canv" style='width:50vw;height:50vh'></canvas>
</div>

<!--fully-colored image shows both gradient strength and gradient direction.
    allow user to hover over pixel to see direction and strength -->
<div class="canvas-container" style="width: 50vw; height: 50vh; position: relative; -webkit-user-select: none;">
    <canvas id="angle_color_canv" style='width:50vw;height:50vh'></canvas>
    <canvas id="full_edge_overlay_canvas" style='width:100%;height:100%'></canvas>
    <script>
    full_edge_overlay_canvas.addEventListener('mousemove', 
        function(event) {
            PageHelper.draw_illustrative_arrow(event, steps[3].edge_x,
            steps[3].edge_y, bright_color_canv);
        }
    );
    </script>
</div>

<!--split image into 4, showing edges in 4 different directions. Layer one on
    top of each other to allow user to see how they stack together -->
<div class="canvas-container" style="width: 80vw; height: 80vh; position: relative; -webkit-user-select: none;">
<canvas id="black_canvas" style='width:100%;height:100%'></canvas>
    <div class="canvas-container" style='width:50%;height:50%; position:relative;left:25%;top:25%;'>
        <canvas id="NS_split_angle_canv"
            onclick="PageHelper.move_canvas_once(event,50,50);"; z-index:2; style='width:100%;height:100%;position:absolute;left:0px;top:0px;'></canvas>
        <canvas id="WE_split_angle_canv"
            onclick="PageHelper.move_canvas_once(event,-50,50);"; z-index:3; style='width:100%;height:100%;position:absolute;left:0px;top:0px;'></canvas>
        <canvas id="NE_SW_split_angle_canv"
            onclick="PageHelper.move_canvas_once(event,50,-50);"; z-index:4; style='width:100%;height:100%;position:absolute;left:0px;top:0px;'></canvas>
        <canvas id="NW_SE_split_angle_canv"
                onclick="PageHelper.move_canvas_once(event,-50,-50);"; z-index:5; style='width:100%;height:100%;position:absolute;left:0px;top:0px;'></canvas>
    </div>
</div>

<!--split thinned image into 4, and layer each on top of each other.
    allow user to click on canvas to move a layer to one side -->
<div class="canvas-container" style="width: 80vw; height: 80vh; position: relative; -webkit-user-select: none;">
<canvas id="black_canvas2" style='width:100%;height:100%'></canvas>
    <div class="canvas-container" style='width:50%;height:50%; position:relative;left:25%;top:25%;'>
        <canvas id="NS_thin_split_angle_canv"
            onclick="PageHelper.move_canvas_once(event,50,50);"; z-index:2; style='width:100%;height:100%;position:absolute;left:0px;top:0px;'></canvas>
        <canvas id="WE_thin_split_angle_canv"
            onclick="PageHelper.move_canvas_once(event,-50,50);"; z-index:3; style='width:100%;height:100%;position:absolute;left:0px;top:0px;'></canvas>
        <canvas id="NE_SW_thin_split_angle_canv"
            onclick="PageHelper.move_canvas_once(event,50,-50);"; z-index:4; style='width:100%;height:100%;position:absolute;left:0px;top:0px;'></canvas>
        <canvas id="NW_SE_thin_split_angle_canv"
                onclick="PageHelper.move_canvas_once(event,-50,-50);"; z-index:5; style='width:100%;height:100%;position:absolute;left:0px;top:0px;'></canvas>
    </div>
</div>

<!--show thinned edges image. B&W -->
<div class="canvas-container" style="width: 50vw; height: 50vh; position: relative; -webkit-user-select: none;">
    <canvas id="full_magnitude_thin_canv" style='width:50vw;height:50vh'></canvas>
</div>

<!--two sliders to control strong and weak edge thresholds -->
<div id="threshold_input_holder">
    <div id="strong_threshold_holder">
        <input id="strong_threshold_slider" type="range" min=1 max=255 value=63
            style="position:relative;" onchange="PageHelper.update_strong_threshold(event);">
        <input id="strong_threshold_input" value=63
        onchange="PageHelper.update_strong_threshold(event)"></input>
    </div>
    <div id="weak_threshold_holder">
        <input id="weak_threshold_slider" type="range" min=0 max=254 value=33
            style="position:relative;" onchange="PageHelper.update_weak_threshold(event);">
        <input id="weak_threshold_input" value=33
        onchange="PageHelper.update_weak_threshold(event)"></input>
    </div>
</div>

<!-- image showing strong and weak edges. Weak edges are colored-->
<div class="canvas-container" style="width: 50vw; height: 50vh; position: relative; -webkit-user-select: none;">
    <canvas id="strong_threshold_canv" style='width:50vw;height:50vh'></canvas>
</div>
<!--final image showing found edges including tracked edges -->
<div class="canvas-container" style="width: 50vw; height: 50vh; position: relative; -webkit-user-select: none;">
    <canvas id="tracked_edges_canv" style='width:50vw;height:50vh'></canvas>
</div>



<!--load image manipulation libraries-->
<script src="Colorwheel.js"></script>
<script src="Canny.js"></script>
<script src="CanvImg.js"></script>
<script src="ImgProcess.js"></script>


</html>
